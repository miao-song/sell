webpackJsonp([1],{"2yoX":function(s,t){},"9n10":function(s,t){},EbB4:function(s,t){},G3Zh:function(s,t){},HNZP:function(s,t){},Hw9H:function(s,t){},IHcu:function(s,t){},JOOt:function(s,t){},M6Sr:function(s,t){},NHnr:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=e("7+uW"),i={render:function(){var s=this.$createElement,t=this._self._c||s;return t("div",{attrs:{id:"app"}},[t("keep-alive",[t("router-view")],1)],1)},staticRenderFns:[]};var n=e("VU/8")({name:"App"},i,!1,function(s){e("y1VE")},null,null).exports,o=e("/ocq"),r=e("mtWM"),l=e.n(r);var c={name:"Star",props:{size:{type:Number},score:{type:Number}},computed:{starType:function(){return"star-"+this.size},itemClasses:function(){for(var s=[],t=Math.floor(2*this.score)/2,e=t%1!=0,a=Math.floor(t),i=0;i<a;i++)s.push("on");for(e&&s.push("half");s.length<5;)s.push("off");return s}}},v={render:function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"star",class:this.starType},this._l(this.itemClasses,function(s,e){return t("span",{key:e,staticClass:"star-item",class:s})}),0)},staticRenderFns:[]};var d=e("VU/8")(c,v,!1,function(s){e("Nr+D")},"data-v-37838bef",null).exports,h={name:"HomeHeader",data:function(){return{classMap:[],detailShow:!1}},methods:{showDetail:function(){this.detailShow=!0},hideDetail:function(){this.detailShow=!1}},props:{seller:Object},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee"]},components:{Star:d}},u={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"home-header"},[e("div",{staticClass:"content-wrapper",on:{click:s.showDetail}},[e("div",{staticClass:"avatar"},[e("img",{attrs:{width:"64",height:"64",src:s.seller.avatar}})]),s._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[e("span",{staticClass:"brand"}),s._v(" "),e("span",{staticClass:"name"},[s._v(s._s(s.seller.name))])]),s._v(" "),e("div",{staticClass:"description"},[s._v("\n        "+s._s(s.seller.description)+"/"+s._s(s.seller.deliveryTime)+"\n      ")]),s._v(" "),s.seller.supports?e("div",{staticClass:"supports"},[e("span",{staticClass:"icon",class:s.classMap}),s._v(" "),e("span",{staticClass:"text"},[s._v(s._s(s.seller.supports[0].description))])]):s._e()]),s._v(" "),s.seller.supports?e("div",{staticClass:"support-count",on:{click:s.showDetail}},[e("span",{staticClass:"count"},[s._v(s._s(s.seller.supports.length)+"个")]),s._v(" "),e("i",{staticClass:"icon-keyboard_arrow_right"})]):s._e()]),s._v(" "),e("div",{staticClass:"bulletin-wrapper"},[e("span",{staticClass:"bulletin-title"}),e("span",{staticClass:"bulletin-text"},[s._v(s._s(s.seller.bulletin))]),e("i",{staticClass:"icon-keyboard_arrow_right"})]),s._v(" "),e("div",{staticClass:"background"},[e("img",{attrs:{src:s.seller.avatar,width:"100%",height:"100%"}})]),s._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.detailShow,expression:"detailShow"}],staticClass:"detail"},[e("div",{staticClass:"detail-wrapper clearfix"},[e("div",{staticClass:"detail-main"},[e("h1",{staticClass:"name"},[s._v(s._s(s.seller.name))]),s._v(" "),e("div",{staticClass:"star-wrapper"},[e("star",{attrs:{size:48,score:s.seller.score}})],1),s._v(" "),e("div",{staticClass:"title"},[e("div",{staticClass:"line"}),s._v(" "),e("div",{staticClass:"text"},[s._v("优惠信息")]),s._v(" "),e("div",{staticClass:"line"})]),s._v(" "),s.seller.supports?e("ul",{staticClass:"supports"},s._l(s.seller.supports,function(t,a){return e("li",{key:a,staticClass:"support-item"},[e("span",{staticClass:"icon",class:s.classMap[s.seller.supports[a].type]}),s._v(" "),e("span",{staticClass:"text"},[s._v(s._s(s.seller.supports[a].description))])])}),0):s._e(),s._v(" "),e("div",{staticClass:"title"},[e("div",{staticClass:"line"}),s._v(" "),e("div",{staticClass:"text"},[s._v("商家公告 ")]),s._v(" "),e("div",{staticClass:"line"})]),s._v(" "),e("div",{staticClass:"bulletin"},[e("p",{staticClass:"content"},[s._v(s._s(s.seller.bulletin))])])])]),s._v(" "),e("div",{staticClass:"detail-close",on:{click:s.hideDetail}},[e("i",{staticClass:"icon-close"})])])])],1)},staticRenderFns:[]};var p=e("VU/8")(h,u,!1,function(s){e("G3Zh")},"data-v-a2e2a694",null).exports,f={name:"HomeTab",data:function(){return{self_showGoods:this.showGoods,self_showRatings:this.showRatings,self_showSeller:this.showSeller}},props:{showGoods:{type:Boolean,default:!1},showRatings:{type:Boolean,default:!0},showSeller:{type:Boolean,default:!1}},methods:{goodsShow:function(){this.self_showGoods||(this.self_showGoods=!0,this.self_showRatings=!1,this.self_showSeller=!1,this.$emit("goodsChange",this.self_showGoods))},ratingsShow:function(){this.self_showRatings||(this.self_showRatings=!0,this.self_showGoods=!1,this.self_showSeller=!1,this.$emit("ratingsChange",this.self_showRatings))},sellerShow:function(){this.self_showSeller||(this.self_showSeller=!0,this.self_showRatings=!1,this.self_showGoods=!1,this.$emit("sellerChange",this.self_showSeller))}}},_={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"home-tab"},[e("div",{staticClass:"tab-item",class:{show:s.self_showGoods},on:{click:s.goodsShow}},[s._v("\n    商品\n  ")]),s._v(" "),e("div",{staticClass:"tab-item",class:{show:s.self_showRatings},on:{click:s.ratingsShow}},[s._v("\n    评价\n  ")]),s._v(" "),e("div",{staticClass:"tab-item",class:{show:s.self_showSeller},on:{click:s.sellerShow}},[s._v("\n    商家\n  ")])])},staticRenderFns:[]};var m=e("VU/8")(f,_,!1,function(s){e("lquB")},"data-v-0150f6d7",null).exports,C=e("GQaK"),g={name:"CartControl",props:{food:{type:Object}},methods:{addCart:function(s){this.food.count?this.food.count++:this.$set(this.food,"count",1),this.$emit("add",s.target)},decreaseCart:function(){this.food.count--}}},w={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"cart-control"},[e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.food.count>0,expression:"food.count > 0"}],staticClass:"cart-decrease",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),s.decreaseCart(t)}}},[e("span",{staticClass:"inner icon-remove_circle_outline"})])]),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:s.food.count,expression:"food.count"}],staticClass:"cart-count "},[s._v(s._s(s.food.count))]),s._v(" "),e("div",{staticClass:"cart-add icon-add_circle",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),s.addCart(t)}}})],1)},staticRenderFns:[]};var y=e("VU/8")(g,w,!1,function(s){e("PN6j")},"data-v-1e5dbbdd",null).exports,j={name:"shopCartList",props:{selectFoods:{type:Array,default:function(){return[]}}},methods:{empty:function(){this.selectFoods.forEach(function(s){s.count=0})}},components:{cartControl:y}},k={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("transition",{attrs:{name:"move"}},[e("div",{staticClass:"shop-cart-list-wrapper"},[e("div",{ref:"shopCartList",staticClass:"shop-cart-list"},[e("div",{staticClass:"list-header"},[e("h1",{staticClass:"title"},[s._v("购物车")]),s._v(" "),e("span",{staticClass:"empty",on:{click:s.empty}},[s._v("清空")])]),s._v(" "),e("div",{staticClass:"list-content"},[e("ul",s._l(s.selectFoods,function(t,a){return e("li",{key:a,staticClass:"food"},[e("div",{staticClass:"desc"},[e("span",{staticClass:"name"},[s._v(s._s(t.name))]),s._v(" "),e("div",{staticClass:"price"},[e("span",[s._v("￥"+s._s(t.price*t.count))])])]),s._v(" "),e("div",{staticClass:"cart-control-wrapper cart-control-wrapper"},[e("cart-control",{attrs:{food:t}})],1)])}),0)])])])])},staticRenderFns:[]};var b=e("VU/8")(j,k,!1,function(s){e("smuD")},"data-v-5c2427d2",null).exports,x=10;var S={name:"shopCart",data:function(){return{balls:function(){for(var s=[],t=0;t<x;t++)s.push({show:!1});return s}(),fold:!0}},props:{deliveryPrice:{type:Number,default:0},minPrice:{type:Number,default:0},selectFoods:{type:Array,default:function(){return[]}}},created:function(){this.dropBalls=[]},methods:{drop:function(s){for(var t=0;t<this.balls.length;t++){var e=this.balls[t];if(!e.show)return e.show=!0,e.el=s,void this.dropBalls.push(e)}},beforeDrop:function(s){var t=this.dropBalls[this.dropBalls.length-1].el.getBoundingClientRect(),e=t.left-32,a=-(window.innerHeight-t.top-22);s.style.display="",s.style.transform=s.style.webkitTransform="translate3d(0,"+a+"px,0)";var i=s.getElementsByClassName("inner-hook")[0];i.style.transform=i.style.webkitTransform="translate3d("+e+"px,0,0)"},dropping:function(s,t){this._reflow=document.body.offsetHeight,s.style.transform=s.style.webkitTransform="translate3d(0,0,0)";var e=s.getElementsByClassName("inner-hook")[0];e.style.transform=e.style.webkitTransform="translate3d(0,0,0)",s.addEventListener("transitionend",t)},afterDrop:function(s){var t=this.dropBalls.shift();t&&(t.show=!1,s.style.display="none")},toggleList:function(){if(!this.totalCount)return!1;this.fold=!this.fold},hideList:function(){this.fold=!0},pay:function(){this.totalPrice<this.minPrice||window.alert("您需支付"+this.totalPrice+"元")}},computed:{totalPrice:function(){var s=0;return this.selectFoods.forEach(function(t){s+=t.price*t.count}),s},totalCount:function(){var s=0;return this.selectFoods.forEach(function(t){s+=t.count}),s},payDesc:function(){return 0===this.totalPrice?this.minPrice+"元起送":this.totalPrice<this.minPrice?"还差"+(this.minPrice-this.totalPrice)+"元起送":"去结算"},payClass:function(){return this.totalPrice<this.minPrice?"not-enough":"enough"},listShow:function(){var s=this;if(!this.totalCount)return this.fold=!0,!1;var t=!this.fold;if(t){var e=this.$refs.shopCartListWrapper.getElementsByClassName("list-content")[0];this.$nextTick(function(){s.scroll?s.scroll.refresh():s.scroll=new C.a(e,{click:!0})})}return t}},components:{shopCartList:b}},T={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[e("div",{staticClass:"shopcart"},[e("div",{staticClass:"content",on:{click:function(t){return t.preventDefault(),s.toggleList(t)}}},[e("div",{staticClass:"content-left"},[e("div",{staticClass:"logo-wrapper"},[e("div",{staticClass:"logo",class:{highlight:s.totalCount>0}},[e("i",{staticClass:"icon-shopping_cart",class:{highlight:s.totalCount>0}})]),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:s.totalCount>0,expression:"totalCount > 0"}],staticClass:"num"},[s._v(s._s(s.totalCount))])]),s._v(" "),e("div",{staticClass:"price",class:{highlight:s.totalPrice>0}},[e("span",[s._v("￥"+s._s(s.totalPrice))])]),s._v(" "),e("div",{staticClass:"desc"},[s._v("另需配送费￥"+s._s(s.deliveryPrice)+"元")])]),s._v(" "),e("div",{staticClass:"content-right",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),s.pay(t)}}},[e("div",{staticClass:"pay",class:s.payClass},[s._v("\n          "+s._s(s.payDesc)+"\n        ")])])]),s._v(" "),e("div",{staticClass:"ball-container"},s._l(s.balls,function(t,a){return e("div",{key:a},[e("transition",{on:{"before-enter":s.beforeDrop,enter:s.dropping,"after-enter":s.afterDrop}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"ball.show"}],staticClass:"ball"},[e("div",{staticClass:"inner inner-hook"})])])],1)}),0),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:s.listShow,expression:"listShow"}],ref:"shopCartListWrapper",staticClass:"shop-cart-list-wrapper"},[e("shop-cart-list",{attrs:{selectFoods:s.selectFoods}})],1)]),s._v(" "),e("transition",{staticClass:"fade"},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.listShow,expression:"listShow"}],staticClass:"list-mask",on:{click:s.hideList}})])],1)},staticRenderFns:[]};var F=e("VU/8")(S,T,!1,function(s){e("qHbA")},"data-v-7c9db95e",null).exports,N=e("PJh5"),P=e.n(N),R={render:function(){var s=this.$createElement;return(this._self._c||s)("div",{staticClass:"split"})},staticRenderFns:[]};var E=e("VU/8")({name:"Split"},R,!1,function(s){e("HNZP")},"data-v-772ce30d",null).exports,H={name:"RatingSelect",data:function(){return{self_onlyContent:this.onlyContent,self_selectType:this.selectType}},props:{ratings:{type:Array,default:function(){return[]}},selectType:{type:Number,default:2},onlyContent:{type:Boolean,default:!1},desc:{type:Object,defaule:function(){return{all:"全部",positive:"满意",negative:"不满意"}}}},methods:{select:function(s){this.self_selectType=s,this.$emit("selectTypeChange",s)},toggleContent:function(){this.self_onlyContent=!this.self_onlyContent,this.$emit("onlyContentChange",this.self_onlyContent)}},computed:{positives:function(){return this.ratings.filter(function(s){return 0===s.rateType})},negatives:function(){return this.ratings.filter(function(s){return 1===s.rateType})}}},z={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"rating-select"},[e("div",{staticClass:"rating-type"},[e("span",{staticClass:"block all positive",class:{active:2===s.self_selectType},on:{click:function(t){s.select(2)}}},[s._v(s._s(s.desc.all)),e("span",{staticClass:"count"},[s._v(s._s(s.ratings.length))])]),s._v(" "),e("span",{staticClass:"block positive",class:{active:0===s.self_selectType},on:{click:function(t){s.select(0)}}},[s._v(s._s(s.desc.positive)),e("span",{staticClass:"count"},[s._v(s._s(s.positives.length))])]),s._v(" "),e("span",{staticClass:"block negative",class:{active:1===s.self_selectType},on:{click:function(t){s.select(1)}}},[s._v(s._s(s.desc.negative)),e("span",{staticClass:"count"},[s._v(s._s(s.negatives.length))])])]),s._v(" "),e("div",{staticClass:"switch",class:{on:s.self_onlyContent},on:{click:s.toggleContent}},[e("span",{staticClass:"icon-check_circle"}),s._v(" "),e("span",{staticClass:"text"},[s._v("只看有内容的评价")])])])},staticRenderFns:[]};var $=e("VU/8")(H,z,!1,function(s){e("XtNG")},"data-v-15487c9e",null).exports,D={name:"Food",data:function(){return{showFlag:!1,selectType:2,onlyContent:!0,desc:{all:"全部",positive:"推荐",negative:"吐槽"}}},props:{food:{type:Object}},methods:{show:function(){var s=this;this.showFlag=!0,this.selectType=2,this.onlyContent=!0,this.$nextTick(function(){s.scroll?s.scroll.refresh():s.scroll=new C.a(s.$refs.foodWrapper,{click:!0})})},hide:function(){this.showFlag=!1},addFirst:function(s){s._constructed&&(a.a.set(this.food,"count",1),this.$emit("add",s.target))},selectTypeChange:function(s){var t=this;this.selectType=s,this.$nextTick(function(){t.scroll.refresh()})},onlyContentChange:function(s){var t=this;this.onlyContent=s,this.$nextTick(function(){t.scroll.refresh()})},needShow:function(s,t){return!(this.onlyContent&&!t)&&(2===this.selectType||s===this.selectType)},formatDate:function(s){return P()(s).format("YYYY-MM-DD hh-mm")}},components:{cartControl:y,Split:E,RatingSelect:$}},M={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("transition",{attrs:{name:"move"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:s.showFlag,expression:"showFlag"}],ref:"foodWrapper",staticClass:"food"},[e("div",{staticClass:"food-content"},[e("div",{staticClass:"img-header"},[e("img",{attrs:{src:s.food.image}}),s._v(" "),e("div",{staticClass:"back",on:{click:s.hide}},[e("i",{staticClass:"icon-arrow_lift"})])]),s._v(" "),e("div",{staticClass:"content"},[e("h1",{staticClass:"title"},[s._v(s._s(s.food.name))]),s._v(" "),e("div",{staticClass:"detail"},[e("span",{staticClass:"sell-count"},[s._v("月售"+s._s(s.food.sellCount)+"份")]),s._v(" "),e("span",{staticClass:"rating"},[s._v("好评率"+s._s(s.food.rating)+"%")])]),s._v(" "),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[s._v("￥"+s._s(s.food.price))]),e("span",{directives:[{name:"show",rawName:"v-show",value:s.food.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[s._v("￥"+s._s(s.food.oldPrice))])]),s._v(" "),e("div",{staticClass:"cart-control-wrapper"},[e("cart-control",{attrs:{food:s.food}})],1),s._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!s.food.count,expression:"!food.count"}],staticClass:"buy",on:{click:function(t){t.stopPropagation(),t.preventDefault(),s.addFirst(t)}}},[s._v("\n            加入购物车\n          ")])])],1),s._v(" "),e("split",{directives:[{name:"show",rawName:"v-show",value:s.food.info,expression:"food.info"}]}),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:s.food.info,expression:"food.info"}],staticClass:"info"},[e("h1",{staticClass:"title"},[s._v("商品介绍")]),s._v(" "),e("p",{staticClass:"text"},[s._v(s._s(s.food.info))])]),s._v(" "),e("split",{directives:[{name:"show",rawName:"v-show",value:s.food.ratings,expression:"food.ratings"}]}),s._v(" "),e("div",{staticClass:"rating"},[e("h1",{staticClass:"title"},[s._v("商品评价")]),s._v(" "),e("rating-select",{attrs:{selectType:s.selectType,onlyContent:s.onlyContent,desc:s.desc,ratings:s.food.ratings},on:{selectTypeChange:s.selectTypeChange,onlyContentChange:s.onlyContentChange}})],1),s._v(" "),e("div",{staticClass:"rating-wrapper"},[e("ul",{directives:[{name:"show",rawName:"v-show",value:s.food.ratings&&s.food.ratings.length&&s.onlyContent,expression:"food.ratings && food.ratings.length && onlyContent"}]},s._l(s.food.ratings,function(t,a){return e("li",{directives:[{name:"show",rawName:"v-show",value:s.needShow(t.rateType,t.text),expression:"needShow(rating.rateType, rating.text)"}],key:a,staticClass:"rating-item"},[e("div",{staticClass:"user"},[e("span",{staticClass:"name"},[s._v(s._s(t.username))]),s._v(" "),e("img",{staticClass:"avatar",attrs:{src:t.avatar,width:"12",height:"12"}})]),s._v(" "),e("div",{staticClass:"time"},[s._v(s._s(s.formatDate(t.rateTime)))]),s._v(" "),e("p",{staticClass:"text",class:{"icon-thumb_up":0===t.rateType,"icon-thumb_down":1===t.rateType}},[s._v("\n              "+s._s(t.text)+"\n            ")])])}),0),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!s.food.ratings||!s.food.ratings.length,expression:"!food.ratings || !food.ratings.length"}],staticClass:"no-rating"},[s._v("暂无评价")])])],1)])])},staticRenderFns:[]};var G=e("VU/8")(D,M,!1,function(s){e("cL03")},"data-v-12fedcd4",null).exports,B={name:"Goods",data:function(){return{classMap:[],listHeight:[],scrollY:0,selectedFood:{}}},props:{goods:{type:Array},seller:{type:Object}},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee"]},mounted:function(){var s=this;this.menuScroll=new C.a(this.$refs.menuWrapper,{click:!0}),this.foodsScroll=new C.a(this.$refs.foodsWrapper,{click:!0,probeType:3}),this.foodsScroll.on("scroll",function(t){s.scrollY=Math.abs(Math.round(t.y))}),this.calculateHeight()},methods:{calculateHeight:function(){var s=this.$refs.foodsWrapper.getElementsByClassName("food-list-hock"),t=0;this.listHeight.push(t);for(var e=0;e<s.length;e++){t+=s[e].clientHeight,this.listHeight.push(t)}},selectMenu:function(s){var t=this.$refs.foodsWrapper.getElementsByClassName("food-list-hock")[s];this.foodsScroll.scrollToElement(t,100)},onAdd:function(s){this.$refs.shopCart.drop(s)},selectFood:function(s,t){t&&(this.selectedFood=s,this.$refs.foodElement.show())}},computed:{currentIndex:function(){for(var s=0;s<this.listHeight.length;s++){var t=this.listHeight[s],e=this.listHeight[s+1];if(!e||this.scrollY>=t&&this.scrollY<e)return s}return 0},selectFoods:function(){var s=[];return this.goods.forEach(function(t){t.foods.forEach(function(t){t.count&&s.push(t)})}),s}},components:{shopCart:F,cartControl:y,Food:G}},U={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"goods"},[e("div",{ref:"menuWrapper",staticClass:"menu-wrapper"},[e("ul",s._l(s.goods,function(t,a){return e("li",{key:a,staticClass:"menu-item",class:{current:s.currentIndex===a},on:{click:function(t){s.selectMenu(a)}}},[e("span",{staticClass:"text"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.type>0,expression:"item.type > 0"}],staticClass:"icon",class:s.classMap[t.type]}),s._v("\n          "+s._s(t.name)+"\n        ")])])}),0)]),s._v(" "),e("div",{ref:"foodsWrapper",staticClass:"foods-wrapper"},[e("ul",s._l(s.goods,function(t,a){return e("li",{key:a,staticClass:"food-list food-list-hock"},[e("h1",{staticClass:"title"},[s._v(s._s(t.name))]),s._v(" "),e("ul",s._l(t.foods,function(t,a){return e("li",{key:a,staticClass:"food-item",on:{click:function(e){s.selectFood(t,e)}}},[e("div",{staticClass:"icon"},[e("img",{attrs:{width:"57",src:t.icon}})]),s._v(" "),e("div",{staticClass:"content"},[e("h2",{staticClass:"name"},[s._v(s._s(t.name))]),s._v(" "),e("p",{staticClass:"desc"},[s._v(s._s(t.description))]),s._v(" "),e("div",{staticClass:"extra"},[e("span",{staticClass:"count"},[s._v("月售"+s._s(t.sellCount)+"份")]),s._v(" "),e("span",[s._v("好评率"+s._s(t.rating)+"%")])]),s._v(" "),e("div",{staticClass:"price"},[e("span",{staticClass:"now"},[s._v("￥"+s._s(t.price))]),s._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.oldPrice,expression:"food.oldPrice"}],staticClass:"old"},[s._v("￥"+s._s(t.oldPrice))])]),s._v(" "),e("div",{staticClass:"control-wrapper"},[e("cart-control",{attrs:{food:t},on:{add:s.onAdd}})],1)])])}),0)])}),0)]),s._v(" "),e("shop-cart",{ref:"shopCart",attrs:{deliveryPrice:s.seller.deliveryPrice,minPrice:s.seller.minPrice,selectFoods:s.selectFoods}}),s._v(" "),e("food",{ref:"foodElement",attrs:{food:s.selectedFood},on:{add:s.onAdd}})],1)},staticRenderFns:[]};var O=e("VU/8")(B,U,!1,function(s){e("IHcu")},"data-v-41f8cd36",null).exports,V={data:function(){return{selectType:2,onlyContent:!0,desc:{all:"全部",positive:"推荐",negative:"吐槽"}}},name:"Ratings",props:{ratings:{type:Array,default:function(){return[]}},seller:{type:Object}},watch:{ratings:function(){this._initScroll()}},mounted:function(){this.selectType=2,this.onlyContent=!0,this._initScroll()},methods:{_initScroll:function(){this.scroll?this.scroll.refresh():this.scroll=new C.a(this.$refs.ratingsWrapper,{click:!0})},selectTypeChange:function(s){var t=this;this.selectType=s,this.$nextTick(function(){t.scroll.refresh()})},onlyContentChange:function(s){var t=this;this.onlyContent=s,this.$nextTick(function(){t.scroll.refresh()})},needShow:function(s,t){return!(this.onlyContent&&!t)&&(2===this.selectType||s===this.selectType)},formatDate:function(s){return P()(s).format("YYYY-MM-DD hh:mm")}},components:{Star:d,Split:E,RatingsSelect:$}},W={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{ref:"ratingsWrapper",staticClass:"ratings"},[e("div",{staticClass:"ratings-content"},[e("div",{staticClass:"overview"},[e("div",{staticClass:"overview-left"},[e("h1",{staticClass:"score"},[s._v(s._s(s.seller.score))]),s._v(" "),e("div",{staticClass:"title"},[s._v("综合评分")]),s._v(" "),e("div",{staticClass:"rank"},[s._v("高于周边商家"+s._s(s.seller.rankRate)+"%")])]),s._v(" "),e("div",{staticClass:"overview-right"},[e("div",{staticClass:"score-wrapper"},[e("span",{staticClass:"title"},[s._v("服务态度")]),s._v(" "),e("star",{attrs:{size:36,score:s.seller.serviceScore}}),s._v(" "),e("span",{staticClass:"score"},[s._v(s._s(s.seller.serviceScore))])],1),s._v(" "),e("div",{staticClass:"score-wrapper"},[e("span",{staticClass:"title"},[s._v("商品评分")]),s._v(" "),e("star",{attrs:{size:36,score:s.seller.foodScore}}),s._v(" "),e("span",{staticClass:"score"},[s._v(s._s(s.seller.foodScore))])],1),s._v(" "),e("div",{staticClass:"delivery-wrapper"},[e("span",{staticClass:"title"},[s._v("送达时间")]),s._v(" "),e("span",{staticClass:"delivery"},[s._v(s._s(s.seller.deliveryTime)+"分钟")])])])]),s._v(" "),e("split"),s._v(" "),e("ratings-select",{attrs:{selectType:s.selectType,onlyContent:s.onlyContent,desc:s.desc,ratings:s.ratings},on:{selectTypeChange:s.selectTypeChange,onlyContentChange:s.onlyContentChange}}),s._v(" "),e("div",{staticClass:"rating-wrapper"},[e("ul",{directives:[{name:"show",rawName:"v-show",value:s.onlyContent,expression:"onlyContent"}]},s._l(s.ratings,function(t,a){return e("li",{directives:[{name:"show",rawName:"v-show",value:s.needShow(t.rateType,t.text),expression:"needShow(rating.rateType, rating.text)"}],key:a,staticClass:"rating-item"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{src:t.avatar,width:"28",height:"28"}})]),s._v(" "),e("div",{staticClass:"content"},[e("h1",{staticClass:"name"},[s._v(s._s(t.username))]),s._v(" "),e("div",{staticClass:"star-wrapper"},[e("star",{attrs:{size:24,score:t.score}}),s._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.deliveryTime,expression:"rating.deliveryTime"}],staticClass:"delivery"},[s._v("\n                "+s._s(t.deliveryTime)+"\n              ")])],1),s._v(" "),e("p",{staticClass:"text"},[s._v(s._s(t.text))]),s._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.recommend&&t.recommend.length,expression:"rating.recommend && rating.recommend.length"}],staticClass:"recommend"},[e("span",{staticClass:"icon-thumb_up"}),s._v(" "),s._l(t.recommend,function(t,a){return e("span",{key:a,staticClass:"item"},[s._v("\n                "+s._s(t)+"\n              ")])})],2),s._v(" "),e("div",{staticClass:"time"},[s._v("\n              "+s._s(s.formatDate(t.rateTime))+"\n            ")])])])}),0)])],1)])},staticRenderFns:[]};var q=e("VU/8")(V,W,!1,function(s){e("2yoX")},"data-v-3ddf3b65",null).exports;e("mvHQ");var L={name:"Seller",data:function(){return{favorite:!1}},props:{seller:{type:Object}},created:function(){this.classMap=["decrease","discount","special","invoice","guarantee"]},mounted:function(){this._initScroll(),this._initPics()},watch:{seller:function(){this._initScroll(),this._initPics()}},methods:{_initPics:function(){var s=this;if(this.seller.pics){var t=126*this.seller.pics.length-6;this.$refs.picUl.style.width=t+"px",this.picScroll?this.picScroll.refresh():this.$nextTick(function(){s.picScroll=new C.a(s.$refs.picWrapper,{scrollX:!0,eventPassthrough:"vertical",click:!0})})}},_initScroll:function(){this.scroll?this.scroll.refresh():this.scroll=new C.a(this.$refs.sellerWrapper,{click:!0})},toggleFavorite:function(){this.favorite=!this.favorite}},computed:{favoriteText:function(){return this.favorite?"已收藏":" 收藏"}},components:{Star:d,Split:E}},X={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{ref:"sellerWrapper",staticClass:"seller"},[e("div",{staticClass:"seller-content"},[e("div",{staticClass:"overview"},[e("h1",{staticClass:"title"},[s._v(s._s(s.seller.name))]),s._v(" "),e("div",{staticClass:"desc"},[e("star",{attrs:{size:36,score:s.seller.score}}),s._v(" "),e("span",{staticClass:"text"},[s._v("（"+s._s(s.seller.ratingCount)+"）")]),s._v(" "),e("span",{staticClass:"text"},[s._v("月售"+s._s(s.seller.sellCount)+"单")])],1),s._v(" "),e("ul",{staticClass:"remark"},[e("li",{staticClass:"block"},[e("h2",[s._v("起送价")]),s._v(" "),e("div",{staticClass:"content"},[e("span",{staticClass:"stress"},[s._v(s._s(s.seller.minPrice))]),s._v("元\n          ")])]),s._v(" "),e("li",{staticClass:"block"},[e("h2",[s._v("商家配送")]),s._v(" "),e("div",{staticClass:"content"},[e("span",{staticClass:"stress"},[s._v(s._s(s.seller.deliveryPrice))]),s._v("元\n          ")])]),s._v(" "),e("li",{staticClass:"block"},[e("h2",[s._v("平均配送时间")]),s._v(" "),e("div",{staticClass:"content"},[e("span",{staticClass:"stress"},[s._v(s._s(s.seller.deliveryTime))]),s._v("分钟\n          ")])])]),s._v(" "),e("div",{staticClass:"favorite",on:{click:s.toggleFavorite}},[e("span",{staticClass:"icon-favorite",class:{active:s.favorite}}),s._v(" "),e("span",{staticClass:"text"},[s._v(s._s(s.favoriteText))])])]),s._v(" "),e("split"),s._v(" "),e("div",{staticClass:"bulletin"},[e("h1",{staticClass:"title"},[s._v("公告与活动")]),s._v(" "),e("div",{staticClass:"content-wrapper"},[e("p",{staticClass:"content"},[s._v(s._s(s.seller.bulletin))])]),s._v(" "),s.seller.supports?e("ul",{staticClass:"supports"},s._l(s.seller.supports,function(t,a){return e("li",{key:a,staticClass:"support-item"},[e("span",{staticClass:"icon",class:s.classMap[s.seller.supports[a].type]}),s._v(" "),e("span",{staticClass:"text"},[s._v(s._s(s.seller.supports[a].description))])])}),0):s._e()]),s._v(" "),e("split"),s._v(" "),e("div",{staticClass:"pics"},[e("h1",{staticClass:"title"},[s._v("商家实景")]),s._v(" "),e("div",{ref:"picWrapper",staticClass:"pic-wrapper"},[e("ul",{ref:"picUl"},s._l(s.seller.pics,function(s,t){return e("li",{key:t,staticClass:"pic-item"},[e("img",{attrs:{src:s,width:"120",height:"90"}})])}),0)])]),s._v(" "),e("split"),s._v(" "),e("div",{staticClass:"info"},[e("h1",{staticClass:"title"},[s._v("商家信息")]),s._v(" "),e("ul",s._l(s.seller.infos,function(t,a){return e("li",{key:a,staticClass:"info-item"},[s._v(s._s(t))])}),0)])],1)])},staticRenderFns:[]};var I={name:"Home",data:function(){return{seller:{id:(s={},(t=window.location.search.match(/[?&][^?&]+=[^?&]+/g))&&t.forEach(function(t){var e=t.substring(1).split("="),a=decodeURIComponent(e[0]),i=decodeURIComponent(e[1]);s[a]=i}),s).id},goods:[],ratings:[],showGoods:!0,showRatings:!1,showSeller:!1};var s,t},created:function(){this.getInfo()},methods:{getInfo:function(){var s=this;l.a.get("/api/data.json").then(function(t){if(0===(t=t.data).ret){if(t.seller){var e=t.seller;s.seller=e}if(t.goods){var a=t.goods;s.goods=a}if(t.ratings){var i=t.ratings;s.ratings=i}}})},goodsChange:function(s){this.showGoods=s,this.showRatings=!s,this.showSeller=!s},ratingsChange:function(s){this.showRatings=s,this.showGoods=!s,this.showSeller=!s},sellerChange:function(s){this.showSeller=s,this.showGoods=!s,this.showRatings=!s}},components:{HomeHeader:p,HomeTab:m,HomeGoods:O,HomeRatings:q,HomeSeller:e("VU/8")(L,X,!1,function(s){e("JOOt")},"data-v-6e5dcd04",null).exports}},A={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[e("home-header",{attrs:{seller:s.seller}}),s._v(" "),e("home-tab",{attrs:{showRatings:s.showRatings,showGoods:s.showGoods,showSeller:s.showSeller},on:{goodsChange:s.goodsChange,ratingsChange:s.ratingsChange,sellerChange:s.sellerChange}}),s._v(" "),e("home-goods",{directives:[{name:"show",rawName:"v-show",value:s.showGoods,expression:"showGoods"}],attrs:{goods:s.goods,seller:s.seller}}),s._v(" "),e("home-ratings",{directives:[{name:"show",rawName:"v-show",value:s.showRatings,expression:"showRatings"}],attrs:{seller:s.seller,ratings:s.ratings}}),s._v(" "),e("home-seller",{directives:[{name:"show",rawName:"v-show",value:s.showSeller,expression:"showSeller"}],attrs:{seller:s.seller}})],1)},staticRenderFns:[]};var Y=e("VU/8")(I,A,!1,function(s){e("Hw9H")},"data-v-cd9b01f4",null).exports;a.a.use(o.a);var J=new o.a({routes:[{path:"/",name:"Home",component:Y}]});e("9n10"),e("M6Sr"),e("EbB4"),e("t2xr");a.a.config.productionTip=!1,new a.a({el:"#app",router:J,components:{App:n},template:"<App/>"})},"Nr+D":function(s,t){},PN6j:function(s,t){},XtNG:function(s,t){},cL03:function(s,t){},lquB:function(s,t){},qHbA:function(s,t){},smuD:function(s,t){},t2xr:function(s,t){},uslO:function(s,t,e){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(s){return e(n(s))}function n(s){var t=a[s];if(!(t+1))throw new Error("Cannot find module '"+s+"'.");return t}i.keys=function(){return Object.keys(a)},i.resolve=n,s.exports=i,i.id="uslO"},y1VE:function(s,t){}},["NHnr"]);
//# sourceMappingURL=app.41c8b4ae485ef81dbace.js.map